<template>
    <form>
        <table class="table table-bordered n-text-small n-bg-pale-grey gs-detail-panel">
            <tbody>
                <tr>
                    <td>

                        <div class="form-horizontal margin-top-nml">
                            <div class="form-group form-group-header">
                                <label class="col-sm-10 col-sm-offset-1">Patient Search</label>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-12">
                                    <hr class="margin-hz hz-dark-grey" />
                                </div>
                            </div>

                            <div class="form-group n-text-normal">
                                <label for="patient_select" class="col-sm-3 control-label">Patient</label>
                                <div class="col-sm-9">

                                    <div class="input-group">
                                        <select show.bind="!nhsNumbersLoading || patientLoading" value.bind="currentPatient" class="form-control input-sm">
                                            <option value="">--select--</option>
                                            <option repeat.for="item of nhsNumbers" model.bind="item">${item.nhsNumber}</option>
                                        </select>
                                        <spinner-msg message="Loading NHS Numbers" logic.one-way="nhsNumbersLoading"></spinner-msg>
                                        <span class="input-group-btn"><button type="button" class="btn btn-primary btn-sm" disabled.bind="patientLoading" click.delegate="setPatient()"><i class="fa fa-chevron-right"></i></button></span>
                                        <spinner-msg message="Searching for Patient" logic.one-way="patientLoading"></spinner-msg>
                                    </div>
                                </div>
                                <div class="col-sm-0">
                                    
                                </div>
                            </div>

                            <div class="patient-search-container">
                                <div class="patient-search-cover"></div>
                                <div class="patient-search-notice">
                                    <div class="alert alert-warning"><p><i class="fa fa-exclamation-triangle"></i> Patient Search has been disabled for this demonstration. Please select from the list of Patients above.</p></div>
                                </div>
                                <div class="form-group n-text-normal">
                                    <label for="patient_nhsno" class="col-sm-3 control-label">NHS No</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <input type="text" name="patient_nhsno" class="form-control input-sm" value.bind="patientDetails.nhsNumber" disabled="disabled" />
                                            <span class="input-group-btn">
                                                <button class="btn btn-default gs-search-btn btn-sm" data-toggle="tooltip" data-placement="top" title="This button is disabled in the Demo"><i class="fa fa-search"></i></button>
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group n-text-normal">
                                    <label for="patient_forename" class="col-sm-3 control-label">Name</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <input type="text" name="patient_forename" class="form-control input-sm" value="${patientDetails.currentName.givenString} ${patientDetails.currentName.family}" disabled="disabled" />
                                            <span class="input-group-btn">
                                                <button class="btn btn-default gs-search-btn btn-sm" data-toggle="tooltip" data-placement="top" title="This button is disabled in the Demo"><i class="fa fa-search"></i></button>
                                            </span>                                        
                                        </div>

                                    </div>
                                </div>


                                <div class="form-group n-text-normal">
                                    <label for="patient_dob" class="col-sm-3 control-label">DoB</label>
                                    <div class="col-sm-6">
                                        <input type="text" name="patient_dob" class="form-control input-sm" value="" disabled="disabled" placeholder="[dd/mm/yyyy]" />
                                    </div>
                                </div>

                                <div class="form-group n-text-normal">
                                    <label for="patient_gppractice" class="col-sm-3 control-label">GP</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <input type="text" name="patient_gppractice" class="form-control input-sm" value="" disabled="disabled" />
                                            <span class="input-group-btn"><button class="btn btn-default gs-search-btn btn-sm" data-toggle="tooltip" data-placement="top" title="This button is disabled in the Demo"><i class="fa fa-search"></i></button></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group n-text-normal">
                                    <label for="patient_postcode" class="col-sm-3 control-label">Postcode</label>
                                    <div class="col-sm-6">
                                        <input type="text" name="patient_postcode" class="form-control input-sm" value.bind="patientDetails.currentAddress.postalCode" disabled="disabled" placeholder="" />
                                    </div>
                                </div>
                            </div>

                        </div>

                    </td>
                </tr>
            </tbody>
        </table>   
    </form>
</template>