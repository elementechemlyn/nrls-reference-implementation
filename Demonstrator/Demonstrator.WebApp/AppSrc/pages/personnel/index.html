<template>
    <require from="../../core/helpers/loaders/spinner-msg.html"></require>

    <section class="container personnel-container">
        <h7 if.bind="organisation">${organisation.name}</h7>
        <h1 class="h1 margin-bottom-xlrg">${heading}<span if.bind="personnel.personnelType != null" class="heading-type"> (${personnel.personnelType})</span> <span>/ How will this affect me?</span> <a if.bind="organisation" class="pull-right btn btn-default" route-href="route: actor-organisation-personnel; params.bind: { routeParamId: organisation.id }"><i class="fa fa-chevron-left"></i> Back</a></h1>

        <div class="row">
            <div class="col-md-7">
                <spinner-msg message="Loading Personnel" logic.one-way="personnelLoading"></spinner-msg>

                <div class="nrls-generated-content margin-bottom-xlrg" innerhtml.bind="personnel.context"></div>
            </div>
            <div class="col-md-4 col-md-offset-1">
                <img src="/images/personnel/${personnel.imageUrl}" alt="${personnel.name}" class="pull-right nrls-border-img img-responsive" />
            </div>
        </div>


        <h5>My Systems</h5>

        <spinner-msg message="Loading Systems" logic.one-way="systemsLoading"></spinner-msg>

        <div if.bind="systems.length < 1 && !systemsLoading">
            <p>No Generic Systems to preview</p>
        </div>

        <div class="row">
            <div repeat.for="csystem of consumerSystems" class="col-xs-12 generic-system-container">
                <compose view-model="../../generic-systems/${csystem.fModule}/index" model.bind="csystem"></compose>
            </div>
        </div>

        <p if.bind="organisation" class="margin-top-lrg"><a class="pull-right btn btn-default" route-href="route: actor-organisation-personnel; params.bind: { routeParamId: organisation.id }"><i class="fa fa-chevron-left"></i> Back</a></p>

    </section>
</template>
